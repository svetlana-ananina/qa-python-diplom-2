
setup_method "TestCreateOrder" ...

Создаем/регистрируем нового пользователя ...

Отправляем запрос на создание пользователя: POST url="https://stellarburgers.nomoreparties.site/api/auth/register"
json="{'email': 'wlkbjvxxaz@mail.ru', 'password': 'lbtuvdkuxv', 'name': 'vcrlldqlvt'}"
response="<Response [200]>", response.text="{"success":true,"user":{"email":"wlkbjvxxaz@mail.ru","name":"vcrlldqlvt"},"accessToken":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1OWFmMzE5OWVkMjgwMDAxYjNhMWE2NSIsImlhdCI6MTcwNDY1MzU5MywiZXhwIjoxNzA0NjU0NzkzfQ.mPtUYAp_OEw90rIswCyBeeZkDqs9hxfD-Mbey5LffUI","refreshToken":"4b8dbb326b3f47cbf6188d530710fdb9d5ff74c05219299b8aba725b813718de30abb1ea5e793214"}"

ingredient_list=['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']
ingredients_id_list=['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']

Создаем заказ ...

Отправляем запрос на создание заказа: POST url="https://stellarburgers.nomoreparties.site/api/orders"
headers="{'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1OWFmMzE5OWVkMjgwMDAxYjNhMWE2NSIsImlhdCI6MTcwNDY1MzU5MywiZXhwIjoxNzA0NjU0NzkzfQ.mPtUYAp_OEw90rIswCyBeeZkDqs9hxfD-Mbey5LffUI'}"
json="{'ingredients': ['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']}"
response="<Response [200]>", response.text="{"success":true,"name":"Spicy бессмертный флюоресцентный бургер","order":{"ingredients":[{"_id":"61c0c5a71d1f82001bdaaa6d","name":"Флюоресцентная булка R2-D3","type":"bun","proteins":44,"fat":26,"carbohydrates":85,"calories":643,"price":988,"image":"https://code.s3.yandex.net/react/code/bun-01.png","image_mobile":"https://code.s3.yandex.net/react/code/bun-01-mobile.png","image_large":"https://code.s3.yandex.net/react/code/bun-01-large.png","__v":0},{"_id":"61c0c5a71d1f82001bdaaa6f","name":"Мясо бессмертных моллюсков Protostomia","type":"main","proteins":433,"fat":244,"carbohydrates":33,"calories":420,"price":1337,"image":"https://code.s3.yandex.net/react/code/meat-02.png","image_mobile":"https://code.s3.yandex.net/react/code/meat-02-mobile.png","image_large":"https://code.s3.yandex.net/react/code/meat-02-large.png","__v":0},{"_id":"61c0c5a71d1f82001bdaaa72","name":"Соус Spicy-X","type":"sauce","proteins":30,"fat":20,"carbohydrates":40,"calories":30,"price":90,"image":"https://code.s3.yandex.net/react/code/sauce-02.png","image_mobile":"https://code.s3.yandex.net/react/code/sauce-02-mobile.png","image_large":"https://code.s3.yandex.net/react/code/sauce-02-large.png","__v":0}],"_id":"659af31a9ed280001b3a1a67","owner":{"name":"vcrlldqlvt","email":"wlkbjvxxaz@mail.ru","createdAt":"2024-01-07T18:53:13.542Z","updatedAt":"2024-01-07T18:53:13.542Z"},"status":"done","name":"Spicy бессмертный флюоресцентный бургер","createdAt":"2024-01-07T18:53:14.377Z","updatedAt":"2024-01-07T18:53:14.664Z","number":34891,"price":2415}}"

Создаем заказ ...

Отправляем запрос на создание заказа: POST url="https://stellarburgers.nomoreparties.site/api/orders"
headers="{'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1OWFmMzE5OWVkMjgwMDAxYjNhMWE2NSIsImlhdCI6MTcwNDY1MzU5MywiZXhwIjoxNzA0NjU0NzkzfQ.mPtUYAp_OEw90rIswCyBeeZkDqs9hxfD-Mbey5LffUI'}"
json="{'ingredients': ['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']}"
response="<Response [200]>", response.text="{"success":true,"name":"Spicy бессмертный флюоресцентный бургер","order":{"ingredients":[{"_id":"61c0c5a71d1f82001bdaaa6d","name":"Флюоресцентная булка R2-D3","type":"bun","proteins":44,"fat":26,"carbohydrates":85,"calories":643,"price":988,"image":"https://code.s3.yandex.net/react/code/bun-01.png","image_mobile":"https://code.s3.yandex.net/react/code/bun-01-mobile.png","image_large":"https://code.s3.yandex.net/react/code/bun-01-large.png","__v":0},{"_id":"61c0c5a71d1f82001bdaaa6f","name":"Мясо бессмертных моллюсков Protostomia","type":"main","proteins":433,"fat":244,"carbohydrates":33,"calories":420,"price":1337,"image":"https://code.s3.yandex.net/react/code/meat-02.png","image_mobile":"https://code.s3.yandex.net/react/code/meat-02-mobile.png","image_large":"https://code.s3.yandex.net/react/code/meat-02-large.png","__v":0},{"_id":"61c0c5a71d1f82001bdaaa72","name":"Соус Spicy-X","type":"sauce","proteins":30,"fat":20,"carbohydrates":40,"calories":30,"price":90,"image":"https://code.s3.yandex.net/react/code/sauce-02.png","image_mobile":"https://code.s3.yandex.net/react/code/sauce-02-mobile.png","image_large":"https://code.s3.yandex.net/react/code/sauce-02-large.png","__v":0}],"_id":"659af31b9ed280001b3a1a68","owner":{"name":"vcrlldqlvt","email":"wlkbjvxxaz@mail.ru","createdAt":"2024-01-07T18:53:13.542Z","updatedAt":"2024-01-07T18:53:13.542Z"},"status":"done","name":"Spicy бессмертный флюоресцентный бургер","createdAt":"2024-01-07T18:53:15.752Z","updatedAt":"2024-01-07T18:53:16.003Z","number":34892,"price":2415}}"

Teardown_method "TestCreateOrder" ...
self.to_teardown=True

Удаляем пользователя ...

Отправляем запрос на удаление пользователя: DELETE url="https://stellarburgers.nomoreparties.site/api/auth/user"
headers="{'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY1OWFmMzE5OWVkMjgwMDAxYjNhMWE2NSIsImlhdCI6MTcwNDY1MzU5MywiZXhwIjoxNzA0NjU0NzkzfQ.mPtUYAp_OEw90rIswCyBeeZkDqs9hxfD-Mbey5LffUI'}"
response="<Response [202]>", response.text="{"success":true,"message":"User successfully removed"}"
